# TubeAgent Environment Configuration
# Copy this file to .env and customize as needed

# ============================================================================
# REQUIRED API KEYS
# ============================================================================

# DeepSeek API key (required for planning/tool-calling)
# Get your key from: https://platform.deepseek.com/api_keys
DEEPSEEK_API_KEY=your_deepseek_api_key_here

# Google API key (required for Gemini transcription and summarization)
# Get your key from: https://console.cloud.google.com/apis/credentials
GOOGLE_API_KEY=your_google_api_key_here

YT_COOKIES_FROM_BROWSER=chrome
# ============================================================================
# PERFORMANCE OPTIMIZATIONS
# ============================================================================

# --- Concurrent Processing ---
# Number of chunks to process in parallel (recommended: 3-5, max: 10)
TRANSCRIBE_CONCURRENCY=4

# --- Chunk Configuration ---
# Size of each chunk in seconds (default: 1200 = 20 minutes)
CHUNK_DURATION_SEC=1200

# --- Gemini File Processing ---
# How often to poll Gemini for file status (in seconds)
GEMINI_FILE_POLL_INTERVAL=0.5

# Maximum time to wait for Gemini file to become ACTIVE (in seconds)
GEMINI_FILE_WAIT_TIMEOUT=60

# --- Video Processing Strategy ---
# Threshold for using direct URL summarization (in minutes)
GLOBAL_DIRECT_MINUTES_LIMIT=25

# Threshold for preferring audio-only processing (in minutes)
ASR_AUDIO_ONLY_MINUTES=60


# ============================================================================
# WEB CONFIGURATION
# ============================================================================

# Allowed frontend origin for CORS
WEB_ORIGIN=http://localhost:5173

# Base URL the web client uses to call the API
VITE_API_URL=http://localhost:5050


# ============================================================================
# RUNTIME & STORAGE
# ============================================================================

# Directory for runtime artifacts
RUNTIME_DIR=./runtime

# Persist chat history to disk
PERSIST_CHAT_HISTORY=0


# ============================================================================
# SESSION CLEANUP
# ============================================================================

SESSION_IDLE_TTL_MINUTES=60
CLEANUP_SWEEP_INTERVAL_SECONDS=300
CLEANUP_ON_SHUTDOWN=1
PURGE_RUNTIME_ON_SHUTDOWN=1
PURGE_RUNTIME_ON_SESSION_DELETE=0


# ============================================================================
# GEMINI MODEL CONFIGURATION
# ============================================================================

GEMINI_MODEL=gemini-2.5-flash
FAST_FOLLOWUP_TEXT_ONLY=1
GLOBAL_EXCERPT_CHARS=400


# ============================================================================
# LOGGING
# ============================================================================

LOG_LEVEL=INFO
